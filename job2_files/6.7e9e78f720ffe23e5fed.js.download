(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1324:function(t,e,o){"use strict";o(952)},1325:function(t,e,o){var n=o(6)((function(i){return i[1]}));n.push([t.i,".app-accordion2__collections-list{max-height:252px;overflow-x:hidden}.app-accordion2__collections-list .i8-menu-item{padding:0;-webkit-user-select:none;user-select:none}.app-accordion2__collections-list .i8-menu-item:active{background:var(--c-transparent-black_200)}.app-accordion2__collections-list .i8-checkbox{height:28px;width:100%}.app-accordion2__collections-list .i8-checkbox__label{align-items:center;height:100%;padding-left:8px;width:100%}.app-accordion2__collections-list .i8-checkbox__checkmark{margin-top:0}.app-accordion2__collections-list .i8-checkbox__text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.app-accordion2__collections-list-menu{--text-input-width:208px;--text-input-input-height:28px;--text-input-padding:0 0 0 8px;--text-input-input-border:none;--text-input-input-border-radius:0;width:208px}.app-accordion2__collections-list-menu_loading .i8-checkbox__label--disabled .i8-checkbox__text{opacity:1}.app-accordion2__add-to-collection-btn{--button-padding-large:0 16px 0 12px;max-width:270px}.app-accordion2__add-to-collection-btn>span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.app-accordion2__add-to-collection-btn-icon{align-items:center;display:flex;height:24px;justify-content:center;margin:0 6px 0 0;margin:var(--button-icon-left-margin,0 6px 0 0);width:24px}.app-accordion2__add-to-collection-btn-icon>div{height:16.5px;width:16.5px}.app-accordion2__add-to-collection-divider{--divider-width:calc(100% - 16px);margin:8px}",""]),n.locals={},t.exports=n},1650:function(t,e,o){"use strict";o.r(e);o(3);var n=o(8),c=o(15),l=o(700),r=o(777),d=o(788),h=o(26),m={name:"AccordionAddToCollection",components:{I8GradientLoader:o(104).a,I8MenuItem:d.a,I8Menu:r.a,I8Button:c.I8Button,I8Icon:c.I8Icon,I8Divider:c.I8Divider,I8Checkbox:c.I8Checkbox,I8TextInput:c.I8TextInput},props:{iconToAdd:{type:Object,default:void 0},menuOffset:{type:Number,default:20}},data:()=>({isEnteringNewCollection:!1,newCollectionName:"",loadingCollectionsIds:[]}),computed:{...Object(n.e)({selectedIcon:t=>t.icon.selectedIcon,user:t=>t.auth.user,collections:t=>t.collections.collections,areCollectionsLoaded:t=>t.collections.areCollectionsLoaded,areCollectionsLoading:t=>t.collections.areCollectionsLoading,projectId:t=>t.icon.accordion.project.id}),icon(){return this.iconToAdd||this.selectedIcon},collectionsWithIcon(){return!this.user.isGuest&&this.areCollectionsLoaded?this.allowedCollections.filter((t=>t.icons.some((t=>t.id===this.icon.id&&!t.loading)))):[]},allowedCollections(){return!this.user.isGuest&&this.areCollectionsLoaded?this.collections.filter((t=>!t.isDownloaded)):[]}},watch:{"user.isGuest":{immediate:!0,async handler(t,e){t||!e||this.areCollectionsLoaded||await this.getCollections(!1)}}},methods:{...Object(n.b)("collections",["getCollections","addIconToCollection","removeIconFromCollection","addCollection"]),resetEnteringNewCollection(){this.isEnteringNewCollection=!1,this.newCollectionName=""},async handleButtonClick(){if(this.projectId){const t=await Promise.all([o.e(0),o.e(4),o.e(38)]).then(o.bind(null,783));t.projectHasActiveEffects(this.projectId)&&t.updateRecents(this.projectId,this.selectedIcon.pngSize)}const t=this.icon?{asset:{icons:{render:t=>t("img",{attrs:{src:`https://img.icons8.com/?id=${this.icon.id}&size=96`,width:48,height:48,style:"object-fit:contain"}})}}}:void 0;Object(l.f)((async()=>{this.areCollectionsLoaded||await this.getCollections(!1),this.isEnteringNewCollection=!1}),t),this.$emit("buttonClick")},isIconInCollection(t){return t.icons.some((t=>t.id===this.icon.id&&!t.loading))},async handleCollectionClick(t){if(!this.loadingCollectionsIds.includes(t.id)){if(this.loadingCollectionsIds.push(t.id),t.icons.some((t=>t.id===this.icon.id)))try{await this.removeIconFromCollection({collectionId:t.id,iconId:this.icon.id})}catch(t){console.error(t),this.$notify({title:this.$t("ICON.COMPONENTS.ACCORDION_V2.ERRORS.FAILED_REMOVE_FROM_COLLECTION"),text:this.$t("ICON.COMPONENTS.ACCORDION_V2.ERRORS.NETWORK_ERROR"),type:"error",delay:5e3})}else try{await this.addIconToCollection({collectionId:t.id,icon:this.icon})}catch(t){console.error(t),this.$notify({title:this.$t("ICON.COMPONENTS.ACCORDION_V2.ERRORS.FAILED_ADDING_TO_COLLECTION"),text:this.$t("ICON.COMPONENTS.ACCORDION_V2.ERRORS.NETWORK_ERROR"),type:"error",delay:5e3})}this.loadingCollectionsIds=this.loadingCollectionsIds.filter((e=>e!==t.id))}},async addNewCollection(){const t=await this.addCollection({name:this.newCollectionName});this.resetEnteringNewCollection(),await this.addIconToCollection({collectionId:t.id,icon:this.icon})},translateCollectionName(t){return Object(h.h)(this,t)}}},_=(o(1324),o(5)),component=Object(_.a)(m,(function(){var t=this,e=t._self._c;return e("I8Menu",{attrs:{"centered-menu-position":!0,disabled:t.user.isGuest,"menu-offset":t.menuOffset},on:{close:t.resetEnteringNewCollection},scopedSlots:t._u([{key:"activator",fn:function(){return[t._t("buttonContent",(function(){return[e("I8Button",{staticClass:"app-accordion2__add-to-collection-btn",attrs:{size:"large",type:"outline"},on:{click:t.handleButtonClick}},[t.user.isGuest||!t.collectionsWithIcon.length?[e("div",{staticClass:"app-accordion2__add-to-collection-btn-icon"},[e("div",{domProps:{innerHTML:t._s(t.$icons.plus)}})]),t._v(" "),e("span",[t._v(t._s(t.$t("ICON.COMPONENTS.ACCORDION_V2.ADD_TO_COLLECTION")))])]:1===t.collectionsWithIcon.length?[e("I8Icon",{staticClass:"app-accordion2__add-to-collection-btn-icon",attrs:{family:"materialOutline",icon:"checkmark"}}),t._v(" "),e("span",[t._v(t._s(t.$t("ICON.COMPONENTS.ACCORDION_V2.ADDED_TO_COLLECTION_NAME",{collection:t.translateCollectionName(t.collectionsWithIcon[0])})))])]:t.collectionsWithIcon.length?[e("I8Icon",{staticClass:"app-accordion2__add-to-collection-btn-icon",attrs:{family:"materialOutline",icon:"checkmark"}}),t._v(" "),e("span",[t._v(t._s(t.$t("ICON.COMPONENTS.ACCORDION_V2.ADDED_TO_COLLECTIONS")))])]:t._e()],2)]}),{clickHandler:t.handleButtonClick})]},proxy:!0},{key:"default",fn:function(){return[e("div",{class:["app-accordion2__collections-list-menu",{"app-accordion2__collections-list-menu_loading":t.areCollectionsLoading}]},[e("div",{staticClass:"app-accordion2__collections-list i8-scroll"},[t.areCollectionsLoading?t._l(3,(function(t){return e("I8MenuItem",{key:t,attrs:{disabled:""}},[e("I8Checkbox",{attrs:{disabled:""}},[e("I8GradientLoader",{attrs:{width:40+20*t,height:20}})],1)],1)})):t._l(t.allowedCollections,(function(o,n){return e("I8MenuItem",{key:n},[e("I8Checkbox",{attrs:{checked:t.isIconInCollection(o)},on:{change:function(e){return t.handleCollectionClick(o)}}},[t._v("\n              "+t._s(t.translateCollectionName(o))+"\n            ")])],1)}))],2),t._v(" "),e("I8Divider",{staticClass:"app-accordion2__add-to-collection-divider"}),t._v(" "),t.isEnteringNewCollection?e("I8TextInput",{attrs:{placeholder:t.$t("ICON.COMPONENTS.ACCORDION_V2.NEW_COLLECTION_PLACEHOLDER")},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNewCollection.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.resetEnteringNewCollection.apply(null,arguments)}]},model:{value:t.newCollectionName,callback:function(e){t.newCollectionName=e},expression:"newCollectionName"}}):e("I8MenuItem",{attrs:{"icon-left":"plus",disabled:t.areCollectionsLoading,"icon-family":"simpleSmall"},on:{click:function(e){e.stopPropagation(),t.isEnteringNewCollection=!0}}},[t._v("\n        "+t._s(t.$t("ICON.COMPONENTS.ACCORDION_V2.NEW_COLLECTION"))+"\n      ")])],1)]},proxy:!0}],null,!0)})}),[],!1,null,null,null);e.default=component.exports},700:function(t,e,o){"use strict";o.d(e,"a",(function(){return m})),o.d(e,"d",(function(){return _})),o.d(e,"h",(function(){return C})),o.d(e,"f",(function(){return I})),o.d(e,"e",(function(){return O})),o.d(e,"i",(function(){return w})),o.d(e,"g",(function(){return x})),o.d(e,"b",(function(){return y})),o.d(e,"c",(function(){return N}));var n=o(17),c=o.n(n),l=o(62),r=o(701);const d=Object(l.b)(),h=()=>o.e(98).then(o.t.bind(null,1664,7)),m={OPEN:"i8-auth-modal:open",ENSURE_LOGIN:"i8-auth-modal:ensure-login"},_={all:f=f||new Map,on:function(t,e){var i=f.get(t);i?i.push(e):f.set(t,[e])},off:function(t,e){var i=f.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):f.set(t,[]))},emit:function(t,e){var i=f.get(t);i&&i.slice().map((function(t){t(e)})),(i=f.get("*"))&&i.slice().map((function(o){o(t,e)}))}};var f;function C(){_.emit(m.OPEN)}function I(t,e){void 0===e&&(e={}),_.emit(m.ENSURE_LOGIN,{callback:t,options:e})}let v=!1;async function O(t,e){if(v)return;v=!0;const{setBaseURL:o,AuthModuleImplementation:n,loadTranslations:c}=await h();c(e.locale),o("https://auth.icons8.com/api/auth/v1");(await n.get()).bindStore(t)}function w(t,e){if("undefined"!=typeof window&&"GTMDataLayer"in window&&window.GTMDataLayer.push({event:t}),d&&"registration"===t&&e){let t="icon";"landings"!==t&&"icon"!==t||(t="Icons"),c.a.get("https://n8n.icons8.com/webhook/fd78bee7-e230-49a7-9ccc-55e3c954f527",{params:{email:e.email,product:t}})}}const x=d?r.production:r.default,y=()=>h().then((t=>t.I8AuthForm)),N=()=>h().then((t=>t.I8PasswordResetForm))},701:function(t){t.exports=JSON.parse('{"default":{"AUTH_REDIRECT_URI":"https://api-icons-stage.icons8.com/auth/v1/socials-callback","AUTH_FACEBOOK_CLIENT_ID":"496747381171808","AUTH_FACEBOOK_URL":"https://www.facebook.com/v6.0/dialog/oauth","AUTH_GITHUB_CLIENT_ID":"19f839086b955db0bf2f","AUTH_GITHUB_URL":"https://github.com/login/oauth/authorize","AUTH_GOOGLE_CLIENT_ID":"574833888516-i8s6kb1mha2r5saa5gu6gbt5hnh3g36u.apps.googleusercontent.com","AUTH_GOOGLE_URL":"https://accounts.google.com/o/oauth2/v2/auth","AUTH_MICROSOFT_CLIENT_ID":"059d71f7-f349-4155-8f21-9247f82c4c57","AUTH_MICROSOFT_URL":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize"},"production":{"AUTH_REDIRECT_URI":"https://api-icons.icons8.com/auth/v1/socials-callback","AUTH_FACEBOOK_CLIENT_ID":"496747381171808","AUTH_FACEBOOK_URL":"https://www.facebook.com/v6.0/dialog/oauth","AUTH_GITHUB_CLIENT_ID":"08ad24fe60ec12be209d","AUTH_GITHUB_URL":"https://github.com/login/oauth/authorize","AUTH_GOOGLE_CLIENT_ID":"574833888516-i8s6kb1mha2r5saa5gu6gbt5hnh3g36u.apps.googleusercontent.com","AUTH_GOOGLE_URL":"https://accounts.google.com/o/oauth2/v2/auth","AUTH_MICROSOFT_CLIENT_ID":"059d71f7-f349-4155-8f21-9247f82c4c57","AUTH_MICROSOFT_URL":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize"}}')},764:function(t,e,o){var content=o(812);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(7).default)("1ed8103e",content,!0,{sourceMap:!1})},765:function(t,e,o){var content=o(814);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(7).default)("09914c82",content,!0,{sourceMap:!1})},777:function(t,e,o){"use strict";var n=o(35),c=o(9),l={name:"I8Menu",components:{Portal:n.a},props:{menuOffset:{type:Number,default:8},popupSide:{type:String,default:"bottom",validator:t=>["bottom","right"].includes(t)},closeOnOutsideClick:{type:Boolean,default:!0},centeredMenuPosition:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},displayAsBottomModal:{type:Boolean,default:!1},menuClasses:{type:Array,default:()=>[]},closeExceptionSelectors:{type:Array,default:void 0}},data:()=>({shown:!1,menuStyle:{}}),computed:{computedMenuId(){return`i8Menu${this._uid}`},computedActivatorId(){return`i8MenuActivator${this._uid}`}},mounted(){var t;this.debouncedScrollHandler=Object(c.debounce)((t=>{this.handleScroll(t)}),200),window.addEventListener("scroll",this.debouncedScrollHandler),window.addEventListener("wheel",this.debouncedScrollHandler),null===(t=document.querySelector(".app-page"))||void 0===t||t.addEventListener("scroll",this.debouncedScrollHandler),this.closeOnOutsideClick&&window.addEventListener("mousedown",this.handleOutsideClick)},beforeDestroy(){var t;window.removeEventListener("scroll",this.debouncedScrollHandler),window.removeEventListener("wheel",this.debouncedScrollHandler),null===(t=document.querySelector(".app-page"))||void 0===t||t.addEventListener("scroll",this.debouncedScrollHandler),this.closeOnOutsideClick&&window.removeEventListener("mousedown",this.handleOutsideClick)},methods:{toggle(){this.disabled||(this.shown?this.hide():(this.show(),this.setMenuStyle()))},show(){this.$emit("show"),this.shown=!0},hide(){this.$emit("close"),this.shown=!1},handleOutsideClick(t){if(this.shown&&this.closeOnOutsideClick&&!this.isActivator(t.target)&&!this.isMenu(t.target))if(this.closeExceptionSelectors){this.closeExceptionSelectors.some((e=>t.target.closest(e)))||this.hide()}else this.hide()},setMenuStyle(){if(this.displayAsBottomModal)return void(this.menuStyle={right:0,left:0,bottom:0});const t=this.$refs.i8MenuActivator.getBoundingClientRect();"bottom"===this.popupSide?this.centeredMenuPosition?this.menuStyle={left:t.left+Math.round(t.width/2)+"px",top:t.bottom+this.menuOffset+"px"}:this.menuStyle={left:t.left+"px",top:t.bottom+this.menuOffset+"px"}:"right"===this.popupSide&&(this.centeredMenuPosition?this.menuStyle={left:t.right+this.menuOffset+"px",top:t.top+Math.round(t.height/2)+"px"}:this.menuStyle={left:t.right+this.menuOffset+"px",top:t.top+"px"}),setTimeout((()=>{const t=document.querySelector(`#${this.computedMenuId}`);if(!t)return;const e=t.getBoundingClientRect();let o=parseInt(this.menuStyle.top.slice(0,-2)),n=parseInt(this.menuStyle.left.slice(0,-2));e.top<0&&(o-=e.top),e.left<0&&(n-=e.left),e.right>window.innerWidth&&(n-=e.right-window.innerWidth),e.bottom>window.innerHeight&&(o-=e.bottom-window.innerHeight),this.menuStyle={top:o+"px",left:n+"px"}}),300)},handleScroll(t){this.shown&&(this.isMenu(t.target)||this.hide())},isActivator(t){return!!t.closest(`#${this.computedActivatorId}`)},isMenu(t){return!!t.closest(`#${this.computedMenuId}`)}}},r=(o(811),o(5)),component=Object(r.a)(l,(function(){var t=this,e=t._self._c;return e("div",{ref:"i8MenuActivator",staticClass:"i8-menu__container",attrs:{id:t.computedActivatorId},on:{click:t.toggle}},[e("Portal",[!t.disabled&&t.shown?e("div",{class:[{"i8-menu":!0,"i8-menu_bottom-centered":t.centeredMenuPosition&&!t.displayAsBottomModal&&"bottom"===t.popupSide,"i8-menu_right-centered":t.centeredMenuPosition&&!t.displayAsBottomModal&&"right"===t.popupSide,"i8-menu_bottom-modal":t.displayAsBottomModal},...t.menuClasses],style:t.menuStyle,attrs:{id:t.computedMenuId}},[t._t("default")],2):t._e()]),t._v(" "),t._t("activator")],2)}),[],!1,null,null,null);e.a=component.exports},788:function(t,e,o){"use strict";var n={name:"I8MenuItem",components:{I8Icon:o(15).I8Icon},props:{iconLeft:{type:[String,Array],default:""},iconFamily:{type:String,default:"materialOutline"},caption:{type:String,default:""},disabled:{type:Boolean,default:!1},active:{type:Boolean,default:!1}}},c=(o(813),o(5)),component=Object(c.a)(n,(function(){var t=this,e=t._self._c;return e("div",t._g({staticClass:"i8-menu-item",class:[{"i8-menu-item_disabled":t.disabled},{"i8-menu-item_active":t.active}]},t.$listeners),[t._t("iconLeft",(function(){return[t.iconLeft?e("I8Icon",{staticClass:"i8-menu-item__icon i8-menu-item__icon_left",attrs:{icon:t.iconLeft,family:t.iconFamily,size:"16px"}}):t._e()]})),t._v(" "),e("div",{staticClass:"i8-menu-item__content"},[e("div",{staticClass:"i8-menu-item__text"},[t._t("default"),t._v(" "),t.active?e("I8Icon",{staticClass:"i8-menu-item__selected-icon",attrs:{icon:"checkmark",family:"materialOutline",size:"16px"}}):t._e()],2),t._v(" "),t.caption?e("div",{staticClass:"i8-menu-item__content_caption"},[t._v("\n      "+t._s(t.caption)+"\n    ")]):t._e()])],2)}),[],!1,null,null,null);e.a=component.exports},811:function(t,e,o){"use strict";o(764)},812:function(t,e,o){var n=o(6)((function(i){return i[1]}));n.push([t.i,'.i8-menu{background:var(--c-white);background:var(--menu-background,var(--c-white));border:var(--menu-border,1px solid var(--c-black_100));border-radius:4px;border-radius:var(--menu-border-radius,4px);box-shadow:0 0 1px rgba(96,96,96,.31),0 12px 24px -6px rgba(96,96,96,.15);box-sizing:border-box;height:auto;height:var(--menu-height,auto);min-width:0;min-width:var(--menu-min-width,0);opacity:1;padding:8px;padding:var(--menu-padding,8px);position:fixed;width:auto;width:var(--menu-width,auto);z-index:9999}.i8-menu_bottom-modal{border-bottom:none;border-left:none;border-radius:4px 4px 0 0;border-radius:var(--menu-border-radius,4px) var(--menu-border-radius,4px) 0 0;border-right:none;border-color:var(--c-transparent-black_100);padding:0}.i8-menu_bottom-centered{transform:translate(-50%)}.i8-menu_bottom-centered:after{border-right:var(--menu-border,1px solid var(--c-black_200));border-top:var(--menu-border,1px solid var(--c-black_200));content:"";left:calc(50% - 10px);top:-11px}.i8-menu_right-centered{transform:translateY(-50%)}.i8-menu_right-centered:after{border-left:var(--menu-border,1px solid var(--c-black_200));border-top:var(--menu-border,1px solid var(--c-black_200));content:"";left:-11px;top:calc(50% - 10px)}.i8-menu:after{background:var(--c-white);background:var(--menu-background,var(--c-white));height:20px;position:absolute;transform:rotate(-45deg);width:20px;z-index:-1}',""]),n.locals={},t.exports=n},813:function(t,e,o){"use strict";o(765)},814:function(t,e,o){var n=o(6)((function(i){return i[1]}));n.push([t.i,".i8-menu-item{--icon-color:var(--c-transparent-black_900);align-items:center;color:var(--c-black_900);cursor:pointer;display:flex;font-family:var(--font-family-legacy);font-size:var(--font-sm);font-style:normal;font-weight:var(--font-normal);letter-spacing:-.006em;line-height:var(--ui-14-line-height);padding:4px 8px;padding:var(--menu-item-padding,4px 8px)}.i8-menu-item:hover{background:var(--c-transparent-black_100);border-radius:4px}.i8-menu-item.i8-menu-item_disabled{--icon-color:var(--c-black_500)!important;background:none!important;border:none!important;color:var(--c-black_500)!important;font-weight:var(--font-normal)!important;pointer-events:none}.i8-menu-item.i8-menu-item_active{background:var(--c-transparent-black_100);border-radius:4px;font-weight:var(--font-semibold)}.i8-menu-item__icon_left{margin-right:8px}.i8-menu-item__content{width:100%}.i8-menu-item__content>.i8-menu-item__content_caption{color:var(--c-black_500);font-size:var(--font-xs);letter-spacing:normal;line-height:16px}.i8-menu-item__text{align-items:center;display:flex;gap:8px;justify-content:space-between}",""]),n.locals={},t.exports=n},952:function(t,e,o){var content=o(1325);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(7).default)("3788f70c",content,!0,{sourceMap:!1})}}]);
//# sourceMappingURL=6.7e9e78f720ffe23e5fed.js.map