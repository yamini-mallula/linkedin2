(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1284:function(t,e,o){"use strict";o(932)},1285:function(t,e,o){var r=o(6)((function(i){return i[1]}));r.push([t.i,".category-section[data-v-1a9283de]{margin-top:20px}.category-section__title[data-v-1a9283de]{margin:20px 0 24px}",""]),r.locals={},t.exports=r},1286:function(t,e,o){"use strict";o(933)},1287:function(t,e,o){var r=o(6)((function(i){return i[1]}));r.push([t.i,'@keyframes spin-bc84c7dc{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.platform-page[data-v-bc84c7dc]{position:relative}.platform-page__skeletons[data-v-bc84c7dc]{background:#fff;bottom:0;min-height:100vh;padding-top:16px;position:absolute;top:0;width:100%;z-index:2}@media(min-width:768px){.platform-page__skeletons[data-v-bc84c7dc]{padding-top:32px}}.platform-page__header[data-v-bc84c7dc]{margin-top:12px}.platform-page .search-tags[data-v-bc84c7dc]{margin-bottom:8px}.platform-page__header+.platform-page__content[data-v-bc84c7dc]{margin-top:16px}.container[data-v-bc84c7dc]{padding:0 32px}@media(max-width:768px){.container[data-v-bc84c7dc]{padding:0 10px 0 20px}}.is-loading[data-v-bc84c7dc]{height:100px;position:relative}.is-loading[data-v-bc84c7dc]:after{animation:spin-bc84c7dc 1s linear infinite;border:2px solid hsla(0,0%,67%,.2);border-radius:50%;border-top-color:hsla(0,0%,67%,.8);content:"";height:3rem;left:50%;margin-left:-1.5rem;margin-top:-1.5rem;position:absolute;top:50%;width:3rem}.icons-descr-wrap[data-v-bc84c7dc]{grid-row-gap:24px;border-bottom:1px solid var(--c-transparent-black_200);border-top:1px solid var(--c-transparent-black_200);display:grid;grid-template:repeat(2,max-content)/none;margin:32px 0;padding:24px 0;row-gap:24px}.item-category[data-v-bc84c7dc]{margin-top:20px}@media(min-width:768px){.page-descr[data-v-bc84c7dc]{border-left:1px solid var(--c-transparent-black_200);padding-left:32px}.icons-descr-wrap[data-v-bc84c7dc]{grid-template:none/repeat(2,1fr);padding:32px 0}.missing-icon[data-v-bc84c7dc]{margin-right:32px}}',""]),r.locals={},t.exports=r},1678:function(t,e,o){"use strict";o.r(e);var r=o(8),c=o(9),n=o(15),l=o(61),d=o(718),m=o(744),h=o(842),f={name:"PackPlatformPage",components:{ShutterstockAds:m.default,searchNothingFound:h.a,appPageSectionTitle:d.a},props:{category:{type:Object,default:()=>{}},pack:{type:Object,default:()=>{}},platform:{type:Object,default:()=>{}}},computed:{shutterQuery(){const t=this.category.name,style=this.platform.title;let e="";return e+="Popular"!==t?t:style.replace(/ .*/,""),{query:e,platform:this.platform.apiCode}}},methods:{uppercaseFirstLetter:c.uppercaseFirstLetter}},v=(o(1284),o(5)),y=Object(v.a)(f,(function(){var t=this,e=t._self._c;return e("div",[t.category?t._l(t.category.subcategory,(function(o,r){return e("div",{key:r,class:{"category-section":0!==r}},[e("appPageSectionTitle",{staticClass:"category-section__title"},[t._v("\n        "+t._s(t.uppercaseFirstLetter(o.name.toLowerCase()))+"\n      ")]),t._v(" "),e("icon-grid",{key:"grid"+r,attrs:{id:o.name,icons:o.icons,action:"select","ads-params-two":1===r?{rowAds:3}:{},"carbon-ad":0===r}}),t._v(" "),1===r?e("client-only",{key:o.name+r},[t.pack&&t.platform?e("div",{staticClass:"ads"},[e("ShutterstockAds",{attrs:{"ad-params":t.shutterQuery}})],1):t._e()]):t._e()],1)})):e("search-nothing-found")],2)}),[],!1,null,"1a9283de",null).exports,_=o(1113),x=o(837),C=o(1114),w=o(706),L=o(710),k=o(705),A={name:"SearchPage",components:{packPlatformPage:y,searchNothingFound:h.a,requestIcon:_.a,CrossSearchBar:x.a,SeoBlock:C.a,I8Divider:n.I8Divider,appPopularRequest:()=>o.e(35).then(o.bind(null,776))},layout:"app",scrollToTop:!0,async asyncData(t){const{app:e,params:o,store:r,redirect:c,res:n,route:d}=t;if(!o.platform)return void c(301,encodeURI(`/icons/set/${o.term}`));const m=Object(l.a)(o.platform),h=Object(k.a)(r,e).beautifyMadeIn(Object(w.a)(o.term));r.dispatch("setPlatform",m.$rootPath),r.dispatch("setIsPageLoading",!0),r.dispatch("setFilterAuthors",Object(w.c)(o.platform)),r.dispatch("setFilterIsAnimated",Object(w.b)(o.platform)),r.dispatch("setFilterColor",Object(w.d)(o.platform).code||Object(w.d)(o.platform).value),r.dispatch("setFilterFlags",Object(w.e)(o.platform)),r.dispatch("setSearchColor",Object(w.d)(o.platform)),r.dispatch("icon/changeColor",Object(w.d)(o.platform).value||"000000"),r.commit("IS_CONTENT_LOADED",!1),r.commit("SET_PLACEHOLDER_TYPE","icon");const{fetchDataCategory:f,fetchDataIcons:v}=Object(L.a)(r,e,d),y={term:o.term,beautyTerm:h,parsedParams:m},_=await v(y,t);if(!_)return;const x=await f(y);let C;return x&&x.category&&(C=!!x.category.subcategory&&!!x.category.subcategory.length),x&&C?x:(n&&!_.isFound&&(n.statusCode=404),_)},data:()=>({term:"",icons:[],countAll:0,isFound:!1,page:1,isLoaded:!1,isLoadedAll:!1,parsedParams:null,searchTemplate:null,category:null,pageSubtitle:null,similarTags:null,bySellAds:null}),head(){return this.seo},computed:{...Object(r.e)({isContentLoaded:t=>t.ui.isContentLoaded,isPageLoaded:t=>t.ui.isPageLoaded,platform:t=>t.platform,user:t=>t.auth.user,pack:t=>t.pack,packs:t=>t.appInfo.packs,isAnimated:t=>t.filters.isAnimated,platforms:t=>t.appInfo.platforms,iconsResponse:t=>t.iconsResponse}),isColor(){return this.platforms[this.platform.apiCode].isColor}},watch:{isPageLoaded(t){t&&this.sendGA()},user(t){t&&this.$analytics.trackSearchEvent({userId:t.id,platform:this.platform.apiCode,isPaidUser:!!t.activeLicense,type:"icon",term:this.term,ip:t.ip})},iconsResponse:{handler(t,e){t.correctedPath===e.correctedPath&&this.setContentLoaded(500)}}},mounted(){this.setContentLoaded(500),this.setFilters(),this.sendGA(),this.setIsPageLoading(!1)},async created(){this.bySellAds=await Object(c.clientOnly)(o.e(28).then(o.bind(null,1649)))},methods:{...Object(r.b)(["setFilterColorGradient","setIsPageLoading"]),fetchNext(t){const e=this.searchTemplate;"icons"===e&&this.fetchNextIcons(t),"category"===e&&this.fetchNextCategory(t)},async fetchNextIcons(t){var e;const{isColorFilters:o}=Object(L.a)(this.$store),r=this.$i18n.localeProperties.iso,c=this.$store.state.platform.apiCode,n=this.$route.params.term,l=null!==(e=this.isAnimated)&&void 0!==e?e:null,d=`${this.beautyTerm}`.toLowerCase(),m=this.page+1,h=o();if(this.icons.length>=this.countAll)return t.complete(),void(this.isLoadedAll=!0);const f={term:n,beautyTerm:d,page:m,isAnimated:l,isColor:h,platform:c};try{const e=await Object(L.a)(this.$store).getIcons(f,r);if(!e.success)throw e;e.icons.length?(this.icons=this.icons.concat(e.icons),this.page=this.page+1,t.loaded()):(t.complete(),this.isLoadedAll=!0)}catch(e){t.complete(),this.isLoadedAll=!0,console.error("fetchNextIcons",e)}},async fetchNextCategory(t){var e;if(this.isLoadedAll)return void t.complete();const o={pack:this.pack.code,platform:this.platform.apiCode,page:this.page+1,isAnimated:null!==(e=this.isAnimated)&&void 0!==e?e:null},{getCategory:r}=Object(L.a)(this.$store,this);try{const e=await r(o);e.success?(this.mergeCategories(this.category,e.category),this.page++,t.loaded()):(t.complete(),this.isLoadedAll=!0)}catch(e){t.complete(),this.isLoadedAll=!0,console.error("fetchNextCategory",e)}},mergeCategories(t,e){e.subcategory.forEach((e=>{const sub=t.subcategory.find((t=>t.code===e.code));sub?sub.icons.push(...e.icons):t.subcategory.push(e)}))},setFilters(){this.parsedParams&&this.platform&&"nolan"!==this.platform.apiCode&&this.setFilterColorGradient(void 0)},sendGA(){window.ga&&window.ga("send","pageview"),this.$analytics.trackIconSearch({term:this.term}),this.isFound||this.$analytics.track({event:"Nothing found",category:this.$route.params.platform})},setContentLoaded(t){setTimeout((()=>{this.$store.commit("IS_CONTENT_LOADED",!0)}),t)}}},P=(o(1286),Object(v.a)(A,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"platform-page"},[t.isContentLoaded?t._e():e("div",{staticClass:"platform-page__skeletons container"},[e("icon-placeholder",{attrs:{type:t.$store.state.ui.placeholderType,"aggregated-tags":!0,"short-bottom-margin":!0,"icons-heading":!1}})],1),t._v(" "),[e("div",{staticClass:"platform-page__header container"},["emoji"!==t.term?e("client-only",[e(t.bySellAds,{tag:"component",attrs:{"model-value":!0,"single-icon-page":!0}})],1):t._e()],1),t._v(" "),"emoji"===t.term?e("appPopularRequest",{attrs:{request:t.term}}):t._e(),t._v(" "),e("div",{staticClass:"platform-page__content container"},[e("client-only",["emoji"===t.term?e("BySellAds"):t._e()],1),t._v(" "),t.isFound?t._e():e("search-nothing-found"),t._v(" "),t.category&&"category"===t.searchTemplate?e("packPlatformPage",{staticClass:"is-body",attrs:{category:t.category,pack:t.pack,platform:t.platform}}):t._e(),t._v(" "),"icons"===t.searchTemplate?e("div",[e("icon-grid",{attrs:{icons:t.icons,"ads-params":{rowAds:5,term:t.term,platform:t.platform.apiCode},"carbon-ad":!0,"found-language":t.foundLanguage,action:"select"}})],1):t._e(),t._v(" "),e("client-only",[e("infinite-loading",{directives:[{name:"show",rawName:"v-show",value:!t.isLoadedAll&&t.isFound,expression:"!isLoadedAll && isFound"}],attrs:{distance:1300},on:{infinite:t.fetchNext}},[e("div",{staticClass:"is-loading",attrs:{slot:"spinner"},slot:"spinner"})])],1),t._v(" "),t.isFound?e("div",{staticClass:"icons-descr-wrap"},[e("request-icon",{staticClass:"missing-icon"}),t._v(" "),e("app-bottom-info",{staticClass:"page-descr",attrs:{subtitle:t.pageSubtitle,description:t.descriptionPage}})],1):t._e(),t._v(" "),t.isLoadedAll&&t.isFound?e("client-only",[e("CrossSearchBar",{attrs:{"search-query":t.beautyTerm.toLowerCase()}})],1):t._e(),t._v(" "),t.similarTags?e("SeoBlock",{attrs:{loading:!t.isContentLoaded,"similar-tags":t.similarTags}}):t._e()],1)]],2)}),[],!1,null,"bc84c7dc",null));e.default=P.exports},703:function(t,e,o){var content=o(714);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(7).default)("3a2a1191",content,!0,{sourceMap:!1})},713:function(t,e,o){"use strict";o(703)},714:function(t,e,o){var r=o(6)((function(i){return i[1]}));r.push([t.i,'.app-page-section-title{align-items:center;display:flex;font-weight:var(--font-bold);letter-spacing:-.005em;margin:20px 0 24px;text-align:left;text-transform:none;white-space:nowrap}.app-page-section-title:after{background:var(--c-transparent-black_200);bottom:0;content:"";height:1px;margin-left:24px;width:100%}',""]),r.locals={},t.exports=r},718:function(t,e,o){"use strict";o(713);var r=o(5),component=Object(r.a)({},(function(){return(0,this._self._c)("h6",{staticClass:"app-page-section-title"},[this._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},932:function(t,e,o){var content=o(1285);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(7).default)("ca5311ca",content,!0,{sourceMap:!1})},933:function(t,e,o){var content=o(1287);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(7).default)("31c0c6b8",content,!0,{sourceMap:!1})}}]);
//# sourceMappingURL=_platform.52331820f6b6fffd459c.js.map